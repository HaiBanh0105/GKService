<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hệ thống đăng ký thành công</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .form-container {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
            border: 2px solid #f0f0f0;
            border-radius: 12px;
            padding: 25px;
            transition: all 0.3s ease;
        }

        .section:hover {
            border-color: #667eea;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.1);
        }

        .section-title {
            color: #667eea;
            font-size: 1.4rem;
            margin-bottom: 20px;
            font-weight: 600;
            display: flex;
            align-items: center;
        }

        .section-title::before {
            content: "✓";
            background: #667eea;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 1rem;
        }

        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .form-group {
            flex: 1;
            min-width: 250px;
        }

        .form-group.full-width {
            flex: 100%;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="number"],
        select,
        textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
        }

        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .banking-info {
            background: #f8f9ff;
            padding: 20px;
            border-radius: 8px;
            margin-top: 10px;
        }

        .fee-display {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            margin-top: 15px;
        }

        .fee-amount {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
        }

        .submit-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 20px;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        .required {
            color: #e74c3c;
        }

        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
            }
            
            .form-group {
                min-width: 100%;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .form-container {
                padding: 20px;
            }
        }

        .success-message {
            display: none;
            background: #d4edda;
            color: #155724;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid #c3e6cb;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Học phí</h1>
        </div>

        <div class="form-container">
            <div class="success-message" id="successMessage">
                <strong>Đăng ký thành công!</strong> Thông tin của bạn đã được ghi nhận.
            </div>

            <form id="registrationForm">
                <!-- Section 1: Thông tin người nộp tiền -->
                <div class="section">
                    <h2 class="section-title">Thông tin người nộp tiền</h2>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="submitterName">Họ và tên <span class="required">*</span></label>
                            <input type="text" id="submitterName" name="submitterName" required>
                        </div>
                        <div class="form-group">
                            <label for="submitterPhone">Số điện thoại <span class="required">*</span></label>
                            <input type="tel" id="submitterPhone" name="submitterPhone" required>
                        </div>
                    </div>

                    <div class="form-group full-width">
                        <label for="submitterEmail">Địa chỉ email <span class="required">*</span></label>
                        <input type="email" id="submitterEmail" name="submitterEmail" required>
                    </div>

                    <p style="color: #666; font-style: italic; margin-top: 10px;">
                        <strong>Lưu ý:</strong> Các thông tin này hệ thống phải tự động điền cho người dùng, và khóa lại để người dùng không được chỉnh sửa.
                    </p>
                </div>

                <!-- Section 2: Thông tin học phí -->
                <div class="section">
                    <h2 class="section-title">Thông tin học phí</h2>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="studentId">Mã số sinh viên <span class="required">*</span></label>
                            <input type="text" id="studentId" name="studentId" required>
                        </div>
                        <div class="form-group">
                            <label for="studentName">Họ tên sinh viên <span class="required">*</span></label>
                            <input type="text" id="studentName" name="studentName" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="cardNumber">Số tiền cần nộp <span class="required">*</span></label>
                        <input type="number" id="feeAmount" name="feeAmount" required placeholder="Nhập số tiền VND">
                    </div>

                    <div class="banking-info">
                        <h4 style="margin-bottom: 15px; color: #667eea;">Thông tin chuyển khoản</h4>
                        <p><strong>Ngân hàng:</strong> iBanking (được thiết lập tự động)</p>
                        <p><strong>Số tài khoản:</strong> <span id="accountNumber">1234567890</span></p>
                        <p><strong>Tên tài khoản:</strong> TDTU - Hệ thống thanh toán học phí</p>
                        <p style="color: #666; font-size: 0.9rem; margin-top: 10px;">
                            Vui lòng sử dụng thông tin này để chuyển khoản cho sinh viên khác.
                        </p>
                    </div>
                </div>

                <!-- Section 3: Thông tin thanh toán -->
                <div class="section">
                    <h2 class="section-title">Thông tin thanh toán</h2>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="payerBalance">Số dư khả dụng của người nộp tiền</label>
                            <input type="number" id="payerBalance" name="payerBalance" readonly value="5000000" style="background: #f5f5f5;">
                        </div>
                        <div class="form-group">
                            <label for="tuitionFee">Số tiền học phí cần thanh toán</label>
                            <input type="number" id="tuitionFee" name="tuitionFee" readonly style="background: #f5f5f5;">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="agreements">Các thỏa thuận và điều khoản</label>
                        <textarea id="agreements" name="agreements" rows="4" readonly style="background: #f5f5f5;">
Hệ thống chỉ cho phép thanh toán toàn bộ giá trị của phần học phí cần thanh toán. Số tiền học phí cần thanh toán phải nhỏ hơn hoặc bằng số dư khả dụng của người nộp tiền.
                        </textarea>
                    </div>

                    <div class="fee-display">
                        <h3>Tổng số tiền cần thanh toán</h3>
                        <div class="fee-amount" id="totalAmount">0 VND</div>
                        <p>Vui lòng kiểm tra lại thông tin trước khi xác nhận</p>
                    </div>
                </div>

                <button type="submit" class="submit-btn" id="submitBtn">
                    Xác nhận giao dịch
                </button>
            </form>
        </div>
    </div>

    <script>
        // Auto-fill locked fields (simulating system auto-fill)
        document.getElementById('submitterName').value = 'Nguyễn Văn A';
        document.getElementById('submitterPhone').value = '0901234567';
        document.getElementById('submitterEmail').value = 'nguyenvana@email.com';
        
        // Lock the submitter info fields
        document.getElementById('submitterName').readOnly = true;
        document.getElementById('submitterPhone').readOnly = true;
        document.getElementById('submitterEmail').readOnly = true;
        
        // Style locked fields
        const lockedFields = ['submitterName', 'submitterPhone', 'submitterEmail'];
        lockedFields.forEach(id => {
            const field = document.getElementById(id);
            field.style.background = '#f5f5f5';
            field.style.color = '#666';
        });

        // Update total amount when fee amount changes
        document.getElementById('feeAmount').addEventListener('input', function() {
            const amount = parseInt(this.value) || 0;
            document.getElementById('tuitionFee').value = amount;
            document.getElementById('totalAmount').textContent = amount.toLocaleString('vi-VN') + ' VND';
            
            // Check if amount is valid
            const balance = parseInt(document.getElementById('payerBalance').value);
            const submitBtn = document.getElementById('submitBtn');
            
            if (amount > balance) {
                submitBtn.style.background = '#e74c3c';
                submitBtn.textContent = 'Số dư không đủ';
                submitBtn.disabled = true;
            } else if (amount > 0) {
                submitBtn.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
                submitBtn.textContent = 'Xác nhận giao dịch';
                submitBtn.disabled = false;
            }
        });

        // Form submission
        document.getElementById('registrationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const feeAmount = parseInt(document.getElementById('feeAmount').value) || 0;
            const balance = parseInt(document.getElementById('payerBalance').value);
            
            if (feeAmount <= 0) {
                alert('Vui lòng nhập số tiền cần thanh toán');
                return;
            }
            
            if (feeAmount > balance) {
                alert('Số dư không đủ để thực hiện giao dịch');
                return;
            }
            
            // Show success message
            document.getElementById('successMessage').style.display = 'block';
            document.getElementById('successMessage').scrollIntoView({ behavior: 'smooth' });
            
            // Simulate transaction processing
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.textContent = 'Đang xử lý...';
            submitBtn.disabled = true;
            
            setTimeout(() => {
                submitBtn.textContent = 'Giao dịch thành công';
                submitBtn.style.background = '#27ae60';
            }, 2000);
        });
    </script>
</body>
</html>